<Window x:Class="KoeiTecmoArchiveMigrator.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="{DynamicResource AppTitle}"
        Height="400"
        Width="600">
        <Grid Margin="10">
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Row 1: Root Directory -->
                <StackPanel Orientation="Horizontal"
                            Grid.Row="0"
                            Margin="0,0,0,10">
                        <TextBlock Text="{DynamicResource LabelRootDir}"
                                   VerticalAlignment="Center"
                                   Margin="0,0,10,0"/>
                        <TextBox x:Name="RootDirTextBox"
                                 Width="400"
                                 Margin="0,0,10,0"/>
                        <Button x:Name="BrowseButton"
                                Content="{DynamicResource ButtonBrowse}"
                                Width="80"
                                Click="BrowseButton_Click"/>
                </StackPanel>

                <!-- Row 2: Game and SteamID Selection -->
                <Grid Grid.Row="1"
                      Margin="0,0,0,10">
                        <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Orientation="Horizontal"
                                    Grid.Column="0"
                                    Margin="0,0,10,0">
                                <TextBlock Text="{DynamicResource LabelGame}"
                                           VerticalAlignment="Center"
                                           Margin="0,0,10,0"/>
                                <ComboBox x:Name="GameComboBox"
                                          Width="200"
                                          SelectionChanged="GameComboBox_SelectionChanged"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal"
                                    Grid.Column="1">
                                <TextBlock Text="{DynamicResource LabelSteamId}"
                                           VerticalAlignment="Center"
                                           Margin="0,0,10,0"/>
                                <ComboBox x:Name="SteamIdComboBox"
                                          Width="200"
                                          SelectionChanged="SteamIdComboBox_SelectionChanged"/>
                        </StackPanel>
                </Grid>

                <!-- Row 3: Archive List -->
                <DataGrid x:Name="ArchiveDataGrid"
                          Grid.Row="2"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          SelectionChanged="ArchiveDataGrid_SelectionChanged">
                        <DataGrid.Columns>
                                <DataGridCheckBoxColumn Header="{DynamicResource ColumnSelect}"
                                                        Binding="{Binding IsSelected}"/>
                                <DataGridTextColumn Header="{DynamicResource ColumnName}"
                                                    Binding="{Binding Name}"
                                                    IsReadOnly="True"
                                                    Width="*"/>
                                <DataGridTextColumn Header="{DynamicResource ColumnStatus}"
                                                    Binding="{Binding Status}"
                                                    IsReadOnly="True"
                                                    Width="*">
                                        <DataGridTextColumn.ElementStyle>
                                                <Style TargetType="TextBlock">
                                                        <Setter Property="Foreground"
                                                                Value="Black"/>
                                                        <Style.Triggers>
                                                                <DataTrigger Binding="{Binding StatusValue}"
                                                                             Value="Success">
                                                                        <Setter Property="Foreground"
                                                                                Value="Green"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding StatusValue}"
                                                                             Value="NeedsMigration">
                                                                        <Setter Property="Foreground"
                                                                                Value="Orange"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding StatusValue}"
                                                                             Value="Unknown">
                                                                        <Setter Property="Foreground"
                                                                                Value="Gray"/>
                                                                </DataTrigger>
                                                                <DataTrigger Binding="{Binding StatusValue}"
                                                                             Value="FileMissing">
                                                                        <Setter Property="Foreground"
                                                                                Value="Red"/>
                                                                </DataTrigger>
                                                        </Style.Triggers>
                                                </Style>
                                        </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                        </DataGrid.Columns>
                </DataGrid>

                <!-- Row 4: Migrate Button -->
                <Button x:Name="MigrateButton"
                        Grid.Row="3"
                        Content="{DynamicResource ButtonMigrate}"
                        Width="120"
                        Margin="0,10,0,0"
                        Click="MigrateButton_Click"
                        Visibility="Hidden"/>

                <!-- Menu -->
                <Menu Grid.Row="0"
                      HorizontalAlignment="Right"
                      VerticalAlignment="Top">
                        <MenuItem Header="{DynamicResource MenuLanguage}">
                                <MenuItem Header="{DynamicResource MenuChinese}"
                                          Click="LanguageChinese_Click"/>
                                <MenuItem Header="{DynamicResource MenuEnglish}"
                                          Click="LanguageEnglish_Click"/>
                        </MenuItem>
                        <MenuItem Header="{DynamicResource MenuAbout}"
                                  Click="About_Click"/>
                </Menu>
        </Grid>
</Window>